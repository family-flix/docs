# 在线观看影视剧

该程序的初衷是为了简化观看视频的步骤，方便一些不会用各种 App 的人，最好简单到点开一个链接就能看。
基于这个目的，需要先创建「成员」，给成员分配链接，从这个链接访问、无需登录，观看视频记录就和这个链接绑定。

## 手机抓包

由于阿里云盘的限制，我们虽然已经能获取到云盘文件，但无法获取到「可以在网页上播放的视频地址」，必须在手机端阿里云盘登录，并抓包一个网络请求，拿到手机端云盘 `refresh_token`，才能获取到「可以在网页上播放的视频地址」。

下面是使用 `charles` 这个工具抓包阿里云盘的截图，找到 `auth.aliyundrive.com/v2/account/token` 这个请求，查找请求体的 `refresh_token`，复制，回到程序首页

![32.png](/images/196f1a3d7611afba63c7654e50ec7572.png)

找到对应的云盘，点击右上角，选择「修改 refresh_token」，将上面复制的值，粘贴到出现的输入框中，点击「确认」即可。

![29.png](/images/5343f4506ec255b2f8c5cb39d6199edb.png)

修改完成后，点击「刷新」如果没报错说明 `refresh_token` 是正确的。接下来新增成员，准备观看视频。

## 新增成员

点击左侧「成员」菜单，进入成员页面。
继续点击「新增成员」按钮，输入备注新增即可。

![23.png](/images/7c903f1b9d236ce39f35d5509ef8f0f0.png)

可以看到出现了两个链接和一个二维码，现在上面的二维码没有用。使用微信「扫一扫」扫描出现的二维码，即可打开我们的移动端视频播放页面。

就和正常的视频应用一样使用即可。

> 如果出现「视频文件无法播放，请修改 refresh_token」字样，说明上面的修改还是不行。多杀掉手机端阿里云盘 App，重新抓包 refresh_token 并更新试试看。

![26.png](/images/ab0af06851df1409c3a5abe8a25617d2.png)

正常情况下，直接就能播放视频了，支持选集、切换分辨率、倍率等功能。

到这里本项目的安装到使用，整个流程说明就结束了。最后是常见问题及解决方案。
